<!DOCTYPE html>
<html  lang="ja">

<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>長生村本郷Engineers&#39;Blog</title>


<meta name="description" content="tech">
<meta property="og:type" content="website">
<meta property="og:title" content="長生村本郷Engineers&#39;Blog">
<meta property="og:url" content="https://kenzo0107.github.io/page/15/index.html">
<meta property="og:site_name" content="長生村本郷Engineers&#39;Blog">
<meta property="og:description" content="tech">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://kenzo0107.github.io/images/og_image.png">
<meta property="article:author" content="Kenzo Tanaka">
<meta property="article:tag" content="aws golang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kenzo0107.github.io/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">




<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">





<link rel="stylesheet" href="/css/back-to-top.css">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156974362-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-156974362-1');
</script>






<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>





<link rel="stylesheet" href="/css/style.css">



<script data-ad-client="ca-pub-6265337967545472" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</head>

<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="長生村本郷Engineers&#39;Blog" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/privacy_policy">PrivacyPolicy</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/kenzo0107">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-10-desktop is-10-widescreen has-order-2 column-main">
    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-02-22T15:00:00.000Z">2016-02-23</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/02/23/2016-02-22-clam-antivirus/">Clam AntiVirus 導入</a>
            
        </h1>
        <div class="content">
            <h2><span id="clam-antivirus">Clam Antivirus</span></h2><p>略称ClamAV はUnix系OSで動作するウィルススキャンOSSです。</p>
<p><a href="http://www.clamav.net">http://www.clamav.net</a></p>
<p><a href="https://ja.wikipedia.org/wiki/Clam_AntiVirus">wiki - Clam_AntiVirus</a></p>
<p>個人的にさくらVPSを借りて<br>ミドルウェア入れて動作確認していたら<br>気づくとDos攻撃を受けて「サーバ停止します」と連絡が来て<br>焦ったことがあり、導入した経緯があります。</p>
<h2><span id="導入手順">導入手順</span></h2><p>以下2つの方法どちらでも良いです。<br>yum 経由の方が起動スクリプト付きで<br>パスに配置してくれるので導入が安易です。</p>
<ul>
<li>yum 経由</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum install clamav clamav-update</span><br></pre></td></tr></table></figure>

<ul>
<li>ソースからbuild</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cd &#x2F;usr&#x2F;local&#x2F;src</span><br><span class="line"># wget http:&#x2F;&#x2F;www.clamav.net&#x2F;downloads&#x2F;production&#x2F;clamav-0.99.tar.gz</span><br><span class="line"># tar zxf clamav-0.99.tar.gz</span><br><span class="line"># cd clamav-0.99</span><br><span class="line"># .&#x2F;configure --enable-milter</span><br><span class="line"># make</span><br><span class="line"># make install</span><br></pre></td></tr></table></figure>

<h2><span id="設定ファイル更新">設定ファイル更新</span></h2><p>/etc/clamd.conf</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 定義ファイル更新 User clalmのコメントアウトを外す</span><br><span class="line"># sed -i &#39;s&#x2F;^User\s\+clam$&#x2F;#\0&#x2F;&#39; &#x2F;etc&#x2F;clamd.conf</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 設定更新</span><br><span class="line"># freshclam</span><br></pre></td></tr></table></figure>

<h2><span id="起動設定">起動設定</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 起動</span><br><span class="line"># service clamd start</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 自動起動設定</span><br><span class="line"># chkconfig clamd on</span><br></pre></td></tr></table></figure>

<h2><span id="実行確認">実行確認</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># clamscan --infected --remove --recursive</span><br><span class="line"></span><br><span class="line">----------- SCAN SUMMARY -----------</span><br><span class="line">Known viruses: 4269611</span><br><span class="line">Engine version: 0.99</span><br><span class="line">Scanned directories: 2</span><br><span class="line">Scanned files: 8</span><br><span class="line">Infected files: 0</span><br><span class="line">Data scanned: 0.20 MB</span><br><span class="line">Data read: 0.10 MB (ratio 1.92:1)</span><br><span class="line">Time: 10.934 sec (0 m 10 s)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><em>Option</em></th>
<th><em>Explain</em></th>
</tr>
</thead>
<tbody><tr>
<td>–infected</td>
<td>ウィルス感染されたファイルのみ表示</td>
</tr>
<tr>
<td>–remove</td>
<td>ウィルス感染されたファイルを削除</td>
</tr>
<tr>
<td>–recursive</td>
<td>サブディレクトリを再帰的に検査</td>
</tr>
</tbody></table>
<p>各option は <code>clamscan -h</code> で確認できます。</p>
<h2><span id="但し">但し</span></h2><p>あくまでウィルススキャンツールを導入しただけであって<br>日進月歩の技術で侵入されないとは限らない為<br>セキュリティは常に動向に注意しましょう。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-image">
        <a href="/2016/02/23/2016-02-22-versionup-php-openssl/" class="image is-8by1">
        <img class="thumbnail" src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kenzo0107/20160222/20160222184453.jpg" alt="PHP+OpenSSLバージョンアップ">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-02-22T15:00:00.000Z">2016-02-23</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/02/23/2016-02-22-versionup-php-openssl/">PHP+OpenSSLバージョンアップ</a>
            
        </h1>
        <div class="content">
            <h2><span id="概要">概要</span></h2><p>ベリトランスモジュールのバージョンアップに際して<br><font color="red">2016年以内に</font>SSL v3.0/TLS 1.0無効化処理が必須となりました。</p>
<p>世界的なセキュリティ対策の一環として必須事項なので<br>ベリトランス以外の決済も、また決済以外でもシステムの対策必須です。</p>
<p><a href="http://internet.watch.impress.co.jp/docs/news/20141015_671482.html">Google、SSL 3.0の脆弱性「POODLE」を公表、SSL 3.0は今後サポート廃止の意向</a></p>
<p>EC-CUBEでベリトランスの決済モジュールでは<br>PHPからOpenSSLライブラリを利用して決済へ通信を実施しています。</p>
<p>そのPHPのOpenSSLライブラリを1.0.1i以上(最新が推奨)に<br>バージョンアップする必要があります。</p>
<p>対応する ToDoとしては以下になります。</p>
<blockquote>
<p>TLS1.1以上を利用するには openssl 1.0.1i 以上を利用する必要アリ<br>→ openssl バージョンアップ (1.0.1i以上)<br>→ PHP の再コンパイルし OpenSSLライブラリ(1.0.1i以上)をバージョンアップ</p>
</blockquote>
<p>上記対応をまとめました。</p>
<p>※ ApacheのSSL v3.0/TLS1.0利用不可設定は別途<br>ググればすぐ出てきます♪</p>
<h2><span id="環境">環境</span></h2><ul>
<li>CentOS release 6.6 (Final)</li>
<li>PHP 5.3.9</li>
<li>openssl 1.0.1g</li>
</ul>
<h2><span id="手順">手順</span></h2><h3><span id="php-で利用している-openssl-のライブラリバージョン確認">PHP で利用している OpenSSL のライブラリバージョン確認</span></h3><p>これからPHPをコンパイルし直すので<br>OpenSSL support が disableでも問題ないです。</p>
<p>※今回では既にインストール済みであるというケースを想定しています。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># php -i | grep OpenSSL</span><br><span class="line"></span><br><span class="line">OpenSSL support &#x3D;&gt; enabled</span><br><span class="line">OpenSSL Library Version &#x3D;&gt; OpenSSL 1.0.1g  28 Jan 2016</span><br><span class="line">OpenSSL Header Version &#x3D;&gt; OpenSSL 1.0.1g  28 Jan 2016</span><br><span class="line">OpenSSL support &#x3D;&gt; enabled</span><br></pre></td></tr></table></figure>

<p>PHPでで利用されるOpenSSL Library, Header Version が <code>1.0.1g</code> であることが確認できました。</p>
<h3><span id="既存openssl-バックアップ">既存openssl バックアップ</span></h3><p>既にインストール済みかと思いますので<br>現行バージョンを一旦退避します。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># openssl version</span><br><span class="line">1.0.1g</span><br><span class="line"></span><br><span class="line"># which openssl</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;bin&#x2F;openssl</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 名前変更でバックアップとして残す</span><br><span class="line"># mv &#x2F;usr&#x2F;local&#x2F;bin&#x2F;openssl &#x2F;usr&#x2F;local&#x2F;bin&#x2F;openssl1.0.1g</span><br></pre></td></tr></table></figure>

<p>何か不具合が発生した場合にまきもどせるように、念のためバックアップをとりました。</p>
<h2><span id="openssl-バージョンアップ">openssl バージョンアップ</span></h2><p>ソースからビルドします。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cd &#x2F;usr&#x2F;local&#x2F;src</span><br><span class="line"># wget http:&#x2F;&#x2F;www.openssl.org&#x2F;source&#x2F;openssl-1.0.2f.tar.gz</span><br><span class="line"># tar xzvf openssl-1.0.2f.tar.gz</span><br><span class="line"># cd openssl-1.0.2f</span><br><span class="line"># .&#x2F;config --prefix&#x3D;&#x2F;usr&#x2F;local shared -fPIC</span><br><span class="line"># make</span><br><span class="line"># make install</span><br></pre></td></tr></table></figure>

<p>-fPIC は 動的共有オブジェクト(DSO)としてmod_sslをビルドし<br>PHPのバイナリ実行ファイルからフックして利用する為に必要、<br>と言ったところでしょうか。</p>
<h2><span id="openssl-バージョンアップ確認">openssl バージョンアップ確認</span></h2><p>正しくバージョンアップされていることを確認しました。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># openssl version</span><br><span class="line"></span><br><span class="line">OpenSSL 1.0.2f  28 Jan 2016</span><br></pre></td></tr></table></figure>

<h2><span id="php再コンパイル">PHP再コンパイル</span></h2><ul>
<li>既存PHPがどのようにconfigureされているか確認</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># php -i | grep config</span><br><span class="line"></span><br><span class="line">Configure Command &#x3D;&gt;  &#39;.&#x2F;configure&#39;  &#39;--enable-mbstring&#39; &#39;--enable-zend-multibyte&#39; &#39;--with-mysql&#39; &#39;--with-mysqli&#39; &#39;--enable-mbregex&#39; &#39;--with-gd&#39; &#39;--with-jpeg-dir&#x3D;&#x2F;usr&#x2F;lib&#39; &#39;--with-png-dir&#x3D;&#x2F;usr&#x2F;lib&#39; &#39;--with-freetype-dir&#x3D;&#x2F;usr&#x2F;lib&#39; &#39;--with-zlib-dir&#39; &#39;--with-libdir&#x3D;lib64&#39; &#39;--enable-soap&#39; &#39;--with-apxs2&#x3D;&#x2F;etc&#x2F;httpd&#x2F;bin&#x2F;apxs&#39; &#39;--with-openssl&#x3D;&#x2F;usr&#x2F;local&#39;</span><br></pre></td></tr></table></figure>

<p><code>--with-openssl</code> がない場合は上記のように追加します。<br>今回は既に指定済みです。</p>
<p>上記のconigure情報を利用して<br>–with-opensslがあることを確認した上で<br>再コンパイルします。</p>
<ul>
<li>再コンパイル</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># cd &#x2F;usr&#x2F;local&#x2F;src&#x2F;php-5.3.9</span><br><span class="line"># .&#x2F;configure --enable-mbstring --enable-zend-multibyte --with-mysql --with-mysqli --enable-mbregex --with-gd --with-jpeg-dir&#x3D;&#x2F;usr&#x2F;lib --with-png-dir&#x3D;&#x2F;usr&#x2F;lib --with-freetype-dir&#x3D;&#x2F;usr&#x2F;lib --with-zlib-dir --with-libdir&#x3D;lib64 --enable-soap --with-apxs2&#x3D;&#x2F;etc&#x2F;httpd&#x2F;bin&#x2F;apxs --with-openssl&#x3D;&#x2F;usr&#x2F;local</span><br><span class="line"># make</span><br><span class="line"># make install</span><br></pre></td></tr></table></figure>

<p>以下のようなエラーが出る場合は、手順)「openssl バージョンアップ」をご確認下さい。<br>新たにopensslをソースからコンパイルしてビルドしたときなどに出るエラーです。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">configure: error: Cannot find OpenSSL&#39;s &lt;evp.h&gt;</span><br></pre></td></tr></table></figure>


<h2><span id="phpで利用するopenssl-ライブラリのバージョン確認">PHPで利用するOpenSSL ライブラリのバージョン確認</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># php -i | grep OpenSSL</span><br><span class="line"></span><br><span class="line">OpenSSL support &#x3D;&gt; enabled</span><br><span class="line">OpenSSL Library Version &#x3D;&gt; OpenSSL 1.0.2f  28 Jan 2016</span><br><span class="line">OpenSSL Header Version &#x3D;&gt; OpenSSL 1.0.2f  28 Jan 2016</span><br><span class="line">OpenSSL support &#x3D;&gt; enabled</span><br></pre></td></tr></table></figure>

<p>OpenSSL Library, Header Version が共に指定通りとなりました。</p>
<p>以上です。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-image">
        <a href="/2016/02/23/2016-02-23-install-latest-git-on-centos/" class="image is-8by1">
        <img class="thumbnail" src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kenzo0107/20160223/20160223122153.png" alt="Install latest Git on CentOS.">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-02-22T15:00:00.000Z">2016-02-23</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/02/23/2016-02-23-install-latest-git-on-centos/">Install latest Git on CentOS.</a>
            
        </h1>
        <div class="content">
            <h2><span id="environment-information">Environment Information</span></h2><ul>
<li>CentOS release 6.6 (Final)</li>
</ul>
<h2><span id="install-required-modules">Install required modules</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-ExtUtils-MakeMaker</span><br></pre></td></tr></table></figure>

<h2><span id="compile-amp-install">Compile &amp; Install</span></h2><p>Please access the below url, get latest archive.<br><a href="https://www.kernel.org/pub/software/scm/git/">Official Repository</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cd &#x2F;usr&#x2F;local&#x2F;src</span><br><span class="line"># wget https:&#x2F;&#x2F;www.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.7.2.tar.gz</span><br><span class="line"># tar xvf git-2.7.2.tar.gz</span><br><span class="line"># cd git-2.7.2</span><br><span class="line"># make prefix&#x3D;&#x2F;usr&#x2F;local all</span><br><span class="line"># make prefix&#x3D;&#x2F;usr&#x2F;local install</span><br></pre></td></tr></table></figure>

<h2><span id="show-git-version">Show git version.</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># git --version</span><br><span class="line"></span><br><span class="line">git version 2.7.2</span><br></pre></td></tr></table></figure>

<p>Thank.</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-02-18T15:00:00.000Z">2016-02-19</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/02/19/2016-02-19-install-python343-on-macos/">MacOSX python 3.4.3 インストール</a>
            
        </h1>
        <div class="content">
            <h2><span id="概要">概要</span></h2><a href="https://www.amazon.co.jp/exec/obidos/ASIN/4774176311/kenzo0107-22/" class="link-preview" target="_blank"><div class="link-area"><div class="og-image"><img></div><div class="descriptions"><div class="og-title">データサイエンティスト養成読本 機械学習入門編 (Software Design plus) | 比戸 将平, 馬場 雪乃, 里 洋平, 戸嶋 龍哉, 得居 誠也, 福島 真太朗, 加藤 公一, 関 喜史, 阿部 厳, 熊崎 宏樹 |本 | 通販 | Amazon</div><div class="og-description">Amazonで比戸 将平, 馬場 雪乃, 里 洋平, 戸嶋 龍哉, 得居 誠也, 福島 真太朗, 加藤 公一, 関 喜史, 阿部 厳, 熊崎 宏樹のデータサイエンティスト養成読本 機械学習入門編 (Software Design plus)。アマゾンならポイント還元本が多数。比戸…</div></div></div></a>

<p>機械学習養成読本という素晴らしい本を頂き早速学習を深めています。</p>
<p>115ページ 第2部 第1章<br>「Pythonのインストール」がすんなりいかなかったのでメモです。</p>
<p><code>pyenv install 3.4.3</code> を実行すると以下のようなエラー出ませんでしたか？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Downloading Python-3.4.3.tgz...</span><br><span class="line">-&gt; https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.4.3&#x2F;Python-3.4.3.tgz</span><br><span class="line">Installing Python-3.4.3...</span><br><span class="line">ERROR: The Python ssl extension was not compiled. Missing the OpenSSL lib?</span><br><span class="line"></span><br><span class="line">Please consult to the Wiki page to fix the problem.</span><br><span class="line">https:&#x2F;&#x2F;github.com&#x2F;yyuu&#x2F;pyenv&#x2F;wiki&#x2F;Common-build-problems</span><br><span class="line"></span><br><span class="line">BUILD FAILED (OS X 10.11.2 using python-build 20150519)</span><br></pre></td></tr></table></figure>

<h2><span id="環境">環境</span></h2><ul>
<li>MacOSX ElCapitan 10.11.2（15C50）</li>
<li>Homebrew 0.9.5</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ brew install sqlite3</span><br><span class="line">$ brew install readline</span><br><span class="line">$ brew install openssl</span><br><span class="line">$ brew install pyenv</span><br><span class="line">$ export CFLAGS&#x3D;&quot;-I$(brew --prefix openssl)&#x2F;include&quot;</span><br><span class="line">$ export LDFLAGS&#x3D;&quot;-L$(brew --prefix openssl)&#x2F;lib -L$(brew --prefix sqlite3)&#x2F;lib&quot;</span><br><span class="line">$ export CPPFLAGS&#x3D;&quot;-I$(brew --prefix sqlite3)&#x2F;include&quot;</span><br><span class="line">$ pyenv install 3.4.3</span><br></pre></td></tr></table></figure>

<p>以下コンパイラに渡す変数の設定が肝でした。</p>
<ul>
<li>CFLAGS</li>
<li>LDFLAGS</li>
<li>CPPFLAGS</li>
</ul>
<p><a href="https://www.gnu.org/software/make/manual/html_node/Implicit-Variables.html">10.3 Variables Used by Implicit Rules</a></p>
<p>気をつければいけないのはMacにデフォルトでインストールされているPython<br>Python のPATH(/usr/local/bin)から外す</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ which python</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;bin&#x2F;python</span><br><span class="line"></span><br><span class="line">$ mv &#x2F;usr&#x2F;local&#x2F;bin&#x2F;python &#x2F;usr&#x2F;local&#x2F;bin&#x2F;python2.7.10</span><br></pre></td></tr></table></figure>

<p>pip もインストール済みであるならば同様にパスから外す。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ which pip</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;bin&#x2F;pip</span><br><span class="line"></span><br><span class="line">$ mv &#x2F;usr&#x2F;local&#x2F;bin&#x2F;pip &#x2F;usr&#x2F;local&#x2F;bin&#x2F;pip2.7</span><br></pre></td></tr></table></figure>

<p>他にPythonのPATHをexportしていなければ<br>pyenv でインストールしたPythonにパスが通るはずです。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ which python</span><br><span class="line">&#x2F;Users&#x2F;kenzo&#x2F;.pyenv&#x2F;shims&#x2F;python ←このように表示されればOK♪</span><br></pre></td></tr></table></figure>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-02-15T15:00:00.000Z">2016-02-16</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/02/16/2016-02-16-python-error-unicodeencodeerror-ascii-codec-cant-encode-characters/">Pythonエラー対応: UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters</a>
            
        </h1>
        <div class="content">
            <h2><span id="結論">結論</span></h2><p>Pythonの文字コードを utf-8 に設定する。</p>
<h2><span id="概要">概要</span></h2><p>python で以下のような画像URLから画像をダウンロードする処理を実装した所<br>掲題のエラーが発生しました。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> HTMLParser <span class="keyword">import</span> HTMLParser</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span><span class="params">(url)</span>:</span></span><br><span class="line">    img = urllib.urlopen(url)</span><br><span class="line">    localfile = open(os.path.basename(url),<span class="string">'wb'</span>)</span><br><span class="line">    localfile.write(img.read())</span><br><span class="line">    img.close()</span><br><span class="line">    localfile.close()</span><br></pre></td></tr></table></figure>

<ul>
<li>具体的にはここでこけてました。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localfile.write(img.read())</span><br></pre></td></tr></table></figure>


<h2><span id="環境">環境</span></h2><ul>
<li>CentOS Linux release 7.0.1406 (Core)</li>
<li>Python 2.7.5</li>
</ul>
<hr>
<h2><span id="文字コード確認">文字コード確認</span></h2><p>以下対話式で確認してみると ascii と表示されました。<br>これを utf-8 に変更します。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python</span><br><span class="line">&gt;&gt;&gt; import sys</span><br><span class="line">&gt;&gt;&gt; sys.getdefaultencoding()</span><br><span class="line"><span class="string">'ascii'</span></span><br></pre></td></tr></table></figure>

<h2><span id="pip-パス確認">pip パス確認</span></h2><p>バージョン確認時にパスが出力されます。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pip --version</span><br><span class="line">pip 7.1.0 from /usr/lib/python2.7/site-packages (python 2.7)</span><br></pre></td></tr></table></figure>

<h2><span id="site-packages配下に-sitecustomizepy-を作成">site-packages配下に sitecustomize.py を作成</span></h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/lib/python2.7/site-packages/sitecustomize.py</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.setdefaultencoding(<span class="string">'utf-8'</span>)</span><br></pre></td></tr></table></figure>

<p>上記内容で保存。</p>
<h2><span id="再度文字コード確認">再度文字コード確認</span></h2><p>utf-8 になりました。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python</span><br><span class="line">&gt;&gt;&gt; import sys</span><br><span class="line">&gt;&gt;&gt; sys.getdefaultencoding()</span><br><span class="line"><span class="string">'utf-8'</span></span><br></pre></td></tr></table></figure>

<p>これで掲題のエラーが解決されました。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-02-03T15:00:00.000Z">2016-02-04</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/02/04/2016-02-04-no-ip-aws-instance-dynamic-ip/">no-ipでAWSインスタンスの動的ip更新対応 ~いつも同じドメイン名でアクセスしたい~</a>
            
        </h1>
        <div class="content">
            <h2><span id="概要">概要</span></h2><p>AWSの起動停止をするとElasticIPを設定していない限り<br>Public IPが変更されてしまいます。</p>
<p>ElasticIPは設定するとAWSを停止していても費用が発生します。</p>
<p>検証用環境など一時的に利用するインスタンスについて<br>起動時にIPが変更したことを関係者に周知するなどの手間が掛かります。</p>
<p>その為No-IPを利用しドメインを固定しIP変更に対応するようにしました。</p>
<p>No-IPは無料のドメインサービスで動的IP変更を検知するLinux用モジュールも配布しています。</p>
<h2><span id="環境">環境</span></h2><ul>
<li>Amazon Linux AMI release 2015.09</li>
<li>noip 2.1.9</li>
</ul>
<h2><span id="手順">手順</span></h2><p>まずnoipサイトで会員登録し利用したいドメインを登録します。<br>ipはとりあえず適当で良いです。</p>
<p><a href="http://www.noip.com/">http://www.noip.com/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; rootユーザで実行</span><br><span class="line">$ sudo su</span><br><span class="line"># cd &#x2F;usr&#x2F;local&#x2F;src</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; noipモジュール</span><br><span class="line"># wget http:&#x2F;&#x2F;www.no-ip.com&#x2F;client&#x2F;linux&#x2F;noip-duc-linux.tar.gz</span><br><span class="line"># tar xzf noip-duc-linux.tar.gz</span><br><span class="line"># cd noip-2.1.9</span><br><span class="line"># make</span><br><span class="line"># make install</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 起動スクリプト作成</span><br><span class="line"># cp redhat.noip.sh &#x2F;etc&#x2F;init.d&#x2F;noip</span><br><span class="line"># chmod 755 &#x2F;etc&#x2F;init.d&#x2F;noip</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 起動設定</span><br><span class="line"># &#x2F;sbin&#x2F;chkconfig noip on</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 起動</span><br><span class="line"># &#x2F;etc&#x2F;init.d&#x2F;noip start</span><br></pre></td></tr></table></figure>

<p>起動後、no-ipのコンソール上で指定ドメインのIPが<br>1分もしない程度で切り替わっていることが確認できます。</p>
<h2><span id="今後">今後</span></h2><p>No-IPはMicroSoftによりマルウェアの温床となっておりユーザを保護すべく<br>22のNO-IPドメイン差し止めを連邦裁判所に申し立て、受理されましたが</p>
<p>No-IP側としては相談していただければ対応もできた、とし申し立て後<br>対応し随時ドメインの復活を果たしています。</p>
<p>ある程度セキュリティを加味して利用する必要がありますね。<br>今の所、AWSのセキュリティグループで特に外部アクセスはなく<br>問題なく動作しています。</p>
<p>また、<br>以下のようなGREEさんの記事がありました。</p>
<p><a href="https://labs.gree.jp/blog/2016/02/15825/">AWS EC2 での最強の Public IP 取得方法</a></p>
<p>内部関係者に聞いてみたいと思います。</p>
<p>===追記===</p>
<p>GREEさんの記事の件、内部関係者に聞いた所ubuntuのみで利用しているそうです。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-image">
        <a href="/2016/02/03/2016-02-03-buildscript-for-revel-go/" class="image is-8by1">
        <img class="thumbnail" src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kenzo0107/20160203/20160203221206.png" alt="CentOS7用 Revel(Golang)フレームワークの起動スクリプト 書いてみた。">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-02-02T15:00:00.000Z">2016-02-03</time>
                
                <div class="level-item">
                    <a class="has-link-grey -link" href="/categories/Go/">Go</a>
                </div>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/02/03/2016-02-03-buildscript-for-revel-go/">CentOS7用 Revel(Golang)フレームワークの起動スクリプト 書いてみた。</a>
            
        </h1>
        <div class="content">
            <h2><span id="起動スクリプト作成">起動スクリプト作成</span></h2><p>まず成果物から</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vim &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;revel.service</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;RevelBuildScript</span><br><span class="line">After&#x3D;nginx.service mysqld.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;simple</span><br><span class="line">ExecStart&#x3D;&#x2F;bin&#x2F;bash &#x2F;var&#x2F;golang&#x2F;run.sh</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br></pre></td></tr></table></figure>

<p>※After … 上記では nginx と mysqld 起動後に revelを起動させるという設定です。</p>
<p>※ExecStart … <code>/bin/bash /var/golang/run.sh</code> については<br>以前の記事でローカルビルドによる<br>デプロイ方法を採用しているというお話をしましたが<br>その際に作成される <code>run.sh</code> のパスを指しています。</p>
<a href="https://kenzo0107.hatenablog.com/entry/2015/08/21/013757" class="link-preview" target="_blank"><div class="link-area"><div class="og-image"><img src="https://ogimage.blog.st-hatena.com/12921228815725257333/8454420450106339592/1479431121"></div><div class="descriptions"><div class="og-title">Golang Revelフレームワーク ホットデプロイ方法 - 長生村本郷Engineers&#39;Blog</div><div class="og-description">概要 Revel Officialサイトにあるデプロイ方法を検証しました。 Revel Deployment ローカルでアプリをビルドしサーバにコピーする サーバーで更新したコードをpullし、ビルド・起動する Heroku を利用しデプロイ管理する 1. ローカルビルド # ア…</div></div></div></a>


<h4><span id="起動設定">起動設定</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl enable revel.service</span><br></pre></td></tr></table></figure>

<h4><span id="起動">起動</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl start revel.service</span><br></pre></td></tr></table></figure>

<h4><span id="停止">停止</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl start revel.service</span><br></pre></td></tr></table></figure>

<p>以上です。</p>
<h2><span id="導入経緯">導入経緯</span></h2><p>AWSでの運用をしていると検証環境は<br>検証時のみに利用し余計なコストは掛けたくないものです。</p>
<p>なので、しょっ中、起動・停止を繰り返します。</p>
<p>Revelフレームワークは起動スクリプトが標準装備されていない為<br>インスタンス起動時に手動で起動する手間が発生していました。</p>
<p>その為、デザインの修正でもシステムさんお願いします〜というような依頼があり<br>相互に手間が発生していたのでその解決として作成しました。</p>
<p>現在は Slack経由で hubot から Jenkins ジョブを実行させ<br>Revelの乗ってるAWSインスタンスの起動・停止できるようにしています。</p>
<div style="text-align:center;">
<img src="https://cdn-ak.f.st-hatena.com/images/fotolife/k/kenzo0107/20160203/20160203220906.png" width="100%">
</div>

<p>ipもElasticIPは使用せず、No-IPを利用してPublic IPが変更されても<br>同ドメインでアクセスできるようにしています。</p>
<p>こちらもインスタンス起動時にドメイン管理しているNo-ipへPublic IPを通知し<br>動的にドメインとIPを紐付けるようにしています。</p>
<a href="http://kenzo0107.hatenablog.com/entry/2016/02/04/101002" class="link-preview" target="_blank"><div class="link-area"><div class="og-image"><img src="https://ogimage.blog.st-hatena.com/12921228815725257333/6653586347155942318/1463368963"></div><div class="descriptions"><div class="og-title">no-ipでAWSインスタンスの動的ip更新対応 ~いつも同じドメイン名でアクセスしたい~ - 長生村本郷Engineers&#39;Blog</div><div class="og-description">概要 AWSの起動停止をするとElasticIPを設定していない限り Public IPが変更されてしまいます。 ElasticIPは設定するとAWSを停止していても費用が発生します。 検証用環境など一時的に利用するインスタンスについて 起動時にIPが変更したことを関係者に周知す…</div></div></div></a>




<p><a href="http://www.noip.com/">http://www.noip.com/</a></p>
<p>極力費用を抑えた、AWSにおける検証環境構築の参考にもしていただければと思います。</p>
<p>以上です。</p>
<p>※ 検証環境 はローカル開発環境と異なり、あくまで本番デプロイ前の検証用という認識です。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-01-18T15:00:00.000Z">2016-01-19</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/01/19/2016-01-19-mysqldump-couldnt-execute-flush-tables-access-denied/">MySQLトラブルシューティング - mysqldump: Couldn&#39;t execute &#39;FLUSH TABLES&#39;: Access denied; you need (at least one of) the RELOAD privilege(s) for this operation (1227)</a>
            
        </h1>
        <div class="content">
            <h2><span id="概要">概要</span></h2><p>以下のように mysqldump コマンド実行時に掲題のエラーが発生しました。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump --lock-all-tables --events -h &lt;host_name&gt; -u &lt;user&gt; -p&lt;password&gt; --no-create-info &lt;db_name&gt; &lt;table, ...&gt; &gt; output.sql</span><br><span class="line"></span><br><span class="line">mysqldump: Couldn<span class="string">'t execute '</span>FLUSH TABLES<span class="string">': Access denied; you need (at least one of) the RELOAD privilege(s) for this operation (1227)</span></span><br></pre></td></tr></table></figure>

<h2><span id="対策">対策</span></h2><p>エラー文の通り、RELOAD権限を付与する。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; GRANT RELOAD ON *.* TO <span class="string">'&lt;user&gt;'</span>@<span class="string">'&lt;host_name&gt;'</span>;</span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>

<p>以上</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-01-14T15:00:00.000Z">2016-01-15</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/01/15/2016-01-15-mysql-error-1045-28000-access-denied-for-user/">MySQLトラブルシューティング - ERROR 1045 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)</a>
            
        </h1>
        <div class="content">
            <h2><span id="概要">概要</span></h2><p>ローカルでMacOSXでMAMPを使っていてある日誤った操作により以下のようなエラーが発生した為<br>対応まとめました。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u root</span><br><span class="line">ERROR 1045 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)</span><br></pre></td></tr></table></figure>

<p>ローカル環境でrootユーザのアクセス権を誤って削除してしまったときなどに発生します。</p>
<h2><span id="対策">対策</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; mysql停止</span><br><span class="line">$ service mysqld stop</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; rootユーザのアクセス権限が失われている</span><br><span class="line">&#x2F;&#x2F; → テーブル権限をスキップ(無視)して作業するオプション付きでセーフモードでmysql起動</span><br><span class="line">$ mysqld_safe --skip-grant-tables &amp;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; rootユーザでアクセス</span><br><span class="line">$ mysql -u root</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 現状の権限設定テーブルを空にする</span><br><span class="line">mysql&gt; TRUNCATE TABLE mysql.user;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 権限反映</span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; rootユーザにlocalhostの全DBアクセス権限付与</span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES on *.* to root@localhost IDENTIFIED BY &#39;(root&#39;s password)&#39; WITH GRANT OPTION;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 権限反映</span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 権限設定確認</span><br><span class="line">mysql&gt; SELECT host, user FROM mysql.user;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; mysql CLIモード停止 (Ctl+c)でもOK</span><br><span class="line">mysql&gt; quit;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; safe modeで起動させたmysql 関連psをkillする</span><br><span class="line">$ ps aux | grep mysql | grep -v grep | awk &#39;&#123;print &quot;kill -9&quot;, $2&#125;&#39;|sh</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; mysql 起動</span><br><span class="line">$ service mysqld start</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; rootユーザでmysqlアクセス</span><br><span class="line">$ mysql -u root -p(root&#39;s password)</span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<p>rootユーザに権限が失われお手上げ状態になったとき、困ったときに <code>safe_mode</code> 使えます。</p>
<p>以上</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey"
                    datetime="2016-01-12T15:00:00.000Z">2016-01-13</time>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
            <a class="has-link-black-ter" href="/2016/01/13/2016-01-13-hubot-slack-on-amazonlinux/">Hubot + Slack on Amazon Linux</a>
            
        </h1>
        <div class="content">
            <h2><span id="prerequisite">Prerequisite</span></h2><ul>
<li>Amazon Linux AMI 2015.09.1 (HVM), SSD Volume Type(t2.nano)</li>
<li>npm 1.3.6</li>
<li>hubot 2.17.0</li>
<li>coffeescript 1.10.0</li>
</ul>
<p>I use t2.nano released at December 2015.</p>
<h2><span id="first-to-do">first to do.</span></h2><ul>
<li>summarized in the following site.</li>
</ul>
<p><a href="http://qiita.com/yangci/items/ef2ab9b6f0d28bad0881">AWS EC2 Amazon Linuxインスタンス起動後、最初にやることまとめ</a></p>
<h2><span id="install-npm">Install npm</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install -y npm --enablerepo&#x3D;epel</span><br><span class="line"></span><br><span class="line">$ npm -v</span><br><span class="line">1.3.6</span><br></pre></td></tr></table></figure>

<h2><span id="install-hubot-coffee-script-yo-generator-hubot">Install hubot, coffee-script, yo, generator-hubot</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ sudo npm install -g hubot coffee-script yo generator-hubot</span><br><span class="line"></span><br><span class="line">$ hubot -v</span><br><span class="line">2.17.0</span><br><span class="line"></span><br><span class="line">$ coffee -v</span><br><span class="line">CoffeeScript version 1.10.0</span><br></pre></td></tr></table></figure>

<h2><span id="create-hubot">create hubot</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir mybot</span><br><span class="line">$ cd mybot</span><br><span class="line">$ yo hubot</span><br><span class="line"></span><br><span class="line">? &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">We&#39;re constantly looking for ways to make yo better!</span><br><span class="line">May we anonymously report usage statistics to improve the tool over time?</span><br><span class="line">More info: https:&#x2F;&#x2F;github.com&#x2F;yeoman&#x2F;insight &amp; http:&#x2F;&#x2F;yeoman.io</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; (Y&#x2F;n) n</span><br><span class="line">                     _____________________________</span><br><span class="line">                    &#x2F;                             \</span><br><span class="line">   &#x2F;&#x2F;\              |      Extracting input for    |</span><br><span class="line">  &#x2F;&#x2F;&#x2F;&#x2F;\    _____    |   self-replication process   |</span><br><span class="line"> &#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;\  &#x2F;_____\   \                             &#x2F;</span><br><span class="line"> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; |[^_&#x2F;\_]|   &#x2F;----------------------------</span><br><span class="line">  |   | _|___@@__|__</span><br><span class="line">  +&#x3D;&#x3D;&#x3D;+&#x2F;  &#x2F;&#x2F;&#x2F;     \_\</span><br><span class="line">   | |_\ &#x2F;&#x2F;&#x2F; HUBOT&#x2F;\\</span><br><span class="line">   |___&#x2F;\&#x2F;&#x2F;      &#x2F;  \\</span><br><span class="line">         \      &#x2F;   +---+</span><br><span class="line">          \____&#x2F;    |   |</span><br><span class="line">           | &#x2F;&#x2F;|    +&#x3D;&#x3D;&#x3D;+</span><br><span class="line">            \&#x2F;&#x2F;      |xx|</span><br><span class="line"></span><br><span class="line">? Owner (User &lt;user@example.com&gt;) tech@xxxxxxxx.jp</span><br><span class="line">? Bot name (mybot) hubot</span><br><span class="line">? Description xxxxxxx&#39;s hubot</span><br><span class="line">? Bot adapter slack</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">hubot-maps@0.0.2 node_modules&#x2F;hubot-maps</span><br><span class="line"></span><br><span class="line">$ ls</span><br><span class="line">Procfile   bin                    hubot-scripts.json  package.json</span><br><span class="line">README.md  external-scripts.json  node_modules        scripts</span><br></pre></td></tr></table></figure>

<h3><span id="こんなエラーが出たときは">こんなエラーが出たときは</span></h3><p>/root/.config へのアクセス権限がないと言われています。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Error: EACCES, permission denied &#39;&#x2F;root&#x2F;.config&#39;</span><br><span class="line">    at Object.fs.mkdirSync (fs.js:654:18)</span><br><span class="line">    at sync (&#x2F;usr&#x2F;lib&#x2F;node_modules&#x2F;yo&#x2F;node_modules&#x2F;configstore&#x2F;node_modules&#x2F;mkdirp&#x2F;index.js:71:13)</span><br><span class="line">    at Function.sync (&#x2F;usr&#x2F;lib&#x2F;node_modules&#x2F;yo&#x2F;node_modules&#x2F;configstore&#x2F;node_modules&#x2F;mkdirp&#x2F;index.js:77:24)</span><br><span class="line">    at Object.create.all.get (&#x2F;usr&#x2F;lib&#x2F;node_modules&#x2F;yo&#x2F;node_modules&#x2F;configstore&#x2F;index.js:38:13)</span><br><span class="line">    at Object.Configstore (&#x2F;usr&#x2F;lib&#x2F;node_modules&#x2F;yo&#x2F;node_modules&#x2F;configstore&#x2F;index.js:27:44)</span><br><span class="line">    at new Insight (&#x2F;usr&#x2F;lib&#x2F;node_modules&#x2F;yo&#x2F;node_modules&#x2F;insight&#x2F;lib&#x2F;index.js:37:34)</span><br><span class="line">    at Object.&lt;anonymous&gt; (&#x2F;usr&#x2F;lib&#x2F;node_modules&#x2F;yo&#x2F;lib&#x2F;cli.js:156:11)</span><br><span class="line">    at Module._compile (module.js:456:26)</span><br><span class="line">    at Object.Module._extensions..js (module.js:474:10)</span><br><span class="line">    at Module.load (module.js:356:32)</span><br></pre></td></tr></table></figure>

<ul>
<li>全権限付与</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mkdir &#x2F;root&#x2F;.config</span><br><span class="line"># chmod -R 0777 &#x2F;root&#x2F;.config</span><br></pre></td></tr></table></figure>

<p>上記で問題なくyo コマンドが通りました。ほっ(-o-)</p>
<ul>
<li>Initial setting hubot.</li>
</ul>
<table>
<thead>
<tr>
<th><em>Item</em></th>
<th><em>Value</em></th>
</tr>
</thead>
<tbody><tr>
<td>Owner</td>
<td>E-mail address</td>
</tr>
<tr>
<td>Bot name</td>
<td>same the hubot integrated slack</td>
</tr>
<tr>
<td>Descriiption</td>
<td>-</td>
</tr>
<tr>
<td>Bot adapter</td>
<td>slack</td>
</tr>
</tbody></table>
<p><img src="http://i.imgur.com/AdyvxbZ.png" alt="Imgur"></p>
<h2><span id="install-hubot-slack">Install hubot-slack</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo npm install hubot-slack --save</span><br></pre></td></tr></table></figure>

<h2><span id="modify-external-scriptsjson">modify external-scripts.json</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ echo &#39;[]&#39; &gt; external-scripts.json</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; confirm setting.</span><br><span class="line">$ cat external-scripts.json</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>

<h2><span id="add-to-binhubot">Add to bin/hubot</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim bin&#x2F;hubot</span><br></pre></td></tr></table></figure>

<ul>
<li>run hubot via port 80</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;sh</span><br><span class="line"></span><br><span class="line">set -e</span><br><span class="line"></span><br><span class="line">npm install</span><br><span class="line">export PATH&#x3D;&quot;node_modules&#x2F;.bin:node_modules&#x2F;hubot&#x2F;node_modules&#x2F;.bin:$PATH&quot;</span><br><span class="line"></span><br><span class="line"># add start</span><br><span class="line">export HUBOT_SLACK_TOKEN&#x3D;xoxb-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">export PORT&#x3D;80</span><br><span class="line"># add end</span><br><span class="line"></span><br><span class="line">exec node_modules&#x2F;.bin&#x2F;hubot --name &quot;hubot&quot; &quot;$@&quot;</span><br></pre></td></tr></table></figure>

<h2><span id="creat-hubot-script">creat hubot script</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim scripts&#x2F;hello.coffee</span><br></pre></td></tr></table></figure>

<p>save the belowing scripts as scripts/hello.coffee</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># Description:</span><br><span class="line">#   hubot basic command.</span><br><span class="line">#</span><br><span class="line"># Commands:</span><br><span class="line">#   hubot who are you - I&#39;m hubot!</span><br><span class="line">#   hubot hello</span><br><span class="line">#   hubot who am I - You are &lt;user_name&gt;</span><br><span class="line">#   hubot what is this &lt;*&gt; - This is &lt;$1&gt;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; (robot) -&gt;</span><br><span class="line">  robot.respond &#x2F;who are you&#x2F;i, (msg) -&gt;</span><br><span class="line">    msg.send &quot;I&#39;m hubot!&quot;</span><br><span class="line"></span><br><span class="line">  robot.hear &#x2F;HELLO$&#x2F;i, (msg) -&gt;</span><br><span class="line">    msg.send &quot;hello!&quot;</span><br><span class="line"></span><br><span class="line">  robot.respond &#x2F;who am I&#x2F;i, (msg) -&gt;</span><br><span class="line">    msg.send &quot;You are #&#123;msg.message.user.name&#125;&quot;</span><br><span class="line"></span><br><span class="line">  robot.respond &#x2F;what is this (.*)&#x2F;i, (msg) -&gt;</span><br><span class="line">    msg.send &quot;This is #&#123;msg.match[1]&#125;&quot;</span><br></pre></td></tr></table></figure>

<h2><span id="run-hubot">run hubot</span></h2><p><code>sudo</code> is required and in order to access http port.<br>You will require hubot integrated with outside site - ex) JIRA etc…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bin&#x2F;hubot -a slack</span><br><span class="line"></span><br><span class="line">[Wed Jan 13 2016 13:43:08 GMT+0900 (JST)] INFO Connecting...</span><br><span class="line">[Wed Jan 13 2016 13:43:10 GMT+0900 (JST)] INFO Logged in as hubot of RUBY GROUPE, but not yet connected</span><br><span class="line">[Wed Jan 13 2016 13:43:11 GMT+0900 (JST)] INFO Slack client now connected</span><br></pre></td></tr></table></figure>

<ul>
<li>no sudo execution result …(&gt;_&lt;)<br>Error occured!!</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ bin&#x2F;hubot -a slack</span><br><span class="line"></span><br><span class="line">[Wed Jan 13 2016 16:40:59 GMT+0900 (JST)] INFO Connecting...</span><br><span class="line">[Wed Jan 13 2016 16:40:59 GMT+0900 (JST)] ERROR Error: listen EACCES</span><br><span class="line">  at errnoException (net.js:905:11)</span><br><span class="line">  at Server._listen2 (net.js:1024:19)</span><br><span class="line">  at listen (net.js:1065:10)</span><br><span class="line">  at net.js:1147:9</span><br><span class="line">  at dns.js:72:18</span><br><span class="line">  at process._tickCallback (node.js:442:13)</span><br><span class="line"></span><br><span class="line">[Wed Jan 13 2016 16:41:00 GMT+0900 (JST)] INFO Logged in as hubot of RUBY GROUPE, but not yet connected</span><br><span class="line">[Wed Jan 13 2016 16:41:02 GMT+0900 (JST)] INFO Slack client now connected</span><br></pre></td></tr></table></figure>

<h2><span id="invite-hubot-at-slack">Invite hubot at Slack</span></h2><p>ex) botname=hubot</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;invite @hubot</span><br></pre></td></tr></table></figure>

<p><img src="http://i.imgur.com/v3MK8VL.png" alt="Imgur"></p>
<h2><span id="input-text-at-slack">Input text at Slack</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[me]    hubot hello</span><br><span class="line">[hubot] hello!</span><br></pre></td></tr></table></figure>

<p><img src="http://i.imgur.com/in4XiYj.png" alt="Imgur"></p>
<hr>
<h1><span id="daemonize-hubot">daemonize hubot</span></h1><h2><span id="install-forever">Install forever</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo npm install --save forever</span><br><span class="line"></span><br><span class="line">$ forever --version</span><br><span class="line">v0.15.1</span><br></pre></td></tr></table></figure>

<h2><span id="set-path-as-not-root-user">set path as not root user.</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ echo &#39;export PATH&#x3D;$PATH:&#x2F;home&#x2F;&lt;user&gt;&#x2F;mybot&#x2F;node_modules&#x2F;forever&#x2F;bin&#39; &gt;&gt; ~&#x2F;.bashrc</span><br><span class="line">$ source ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure>

<ul>
<li>root user too.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; change to super user.</span><br><span class="line">$ sudo su</span><br><span class="line"># echo &#39;export PATH&#x3D;$PATH:&#x2F;home&#x2F;&lt;user&gt;&#x2F;mybot&#x2F;node_modules&#x2F;forever&#x2F;bin&#39; &gt;&gt; ~&#x2F;.bashrc</span><br><span class="line"># source ~&#x2F;.bashrc</span><br><span class="line"># echo $PATH</span><br><span class="line">.......:&#x2F;home&#x2F;&lt;user&gt;&#x2F;mybot&#x2F;node_modules&#x2F;forever&#x2F;bin:......</span><br></pre></td></tr></table></figure>

<h2><span id="modify-binhubot">Modify bin/hubot</span></h2><script src="//gist.github.com/kenzo0107/c6c713835918c3a75159.js"></script>



<h2><span id="daemonize-start-hubot-sudo-binhubot-a-slack">daemonize start hubot - <code>sudo bin/hubot -a slack</code></span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bin&#x2F;hubot start</span><br></pre></td></tr></table></figure>

<h2><span id="stop-daemonized-hubot">stop daemonized hubot</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bin&#x2F;hubot stop</span><br></pre></td></tr></table></figure>

<h2><span id="restart-hubot">restart hubot</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bin&#x2F;hubot restart</span><br></pre></td></tr></table></figure>

<h2><span id="check-forever-list">check forever list</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sudo su</span><br><span class="line"># forever list</span><br><span class="line"></span><br><span class="line">info:    Forever processes running</span><br><span class="line">data:        uid  command script                           forever pid   id logfile                 uptime</span><br><span class="line">data:    [0] sICk coffee  node_modules&#x2F;.bin&#x2F;hubot -a slack 30494   30496    &#x2F;root&#x2F;.forever&#x2F;sICk.log 0:0:5:35.399</span><br></pre></td></tr></table></figure>

<h2><span id="another-way-stop-forever-process">another way stop forever process</span></h2><ul>
<li>check process. kill -9 process</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ ps aux | grep hubot | grep -v grep</span><br><span class="line"></span><br><span class="line">root     31144  0.3  3.1 723820 32392 ?        Ssl  17:58   0:00 &#x2F;usr&#x2F;bin&#x2F;node &#x2F;home&#x2F;hu&#x2F;mybot&#x2F;node_modules&#x2F;forever&#x2F;bin&#x2F;monitor node_modules&#x2F;.bin&#x2F;hubot</span><br><span class="line">root     31146  1.1  6.7 979588 69196 ?        Sl   17:58   0:00 node node_modules&#x2F;hubot&#x2F;node_modules&#x2F;.bin&#x2F;coffee &#x2F;home&#x2F;hu&#x2F;mybot&#x2F;node_modules&#x2F;.bin&#x2F;hubot -a slack</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; kill forcibly process</span><br><span class="line">$ sudo kill -9 31146</span><br></pre></td></tr></table></figure>

<ul>
<li>another one.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ps aux | grep hubot | grep -v grep | awk &#39;&#123;print &quot;kill -9&quot;, $2&#125;&#39; | sh</span><br></pre></td></tr></table></figure>

<p>Thanks.</p>

        </div>
        
        
        
    </div>
</div>










    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/page/14/">前</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/16/">次</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/14/">14</a></li>
            
            <li><a class="pagination-link is-current" href="/page/15/">15</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/16/">16</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/20/">20</a></li>
            
        </ul>
    </nav>
</div>
</div>
                
                




<div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="/images/avatar.png" alt="kenzo0107">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        kenzo0107
                    </p>
                    
                    
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        投稿
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            192
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        カテゴリ
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            1
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        タグ
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            88
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/kenzo0107" target="_blank" rel="noopener">
                フォローする</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/kenzo0107">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Twitter" href="https://twitter.com/kenzo0107">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最近の記事
        </h3>
        
        <article class="media">
            
            <a href="/2020/05/07/2020-05-07-go-json/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Go で Json 取扱">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-06T15:00:00.000Z">2020-05-07</time></div>
                    <a href="/2020/05/07/2020-05-07-go-json/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Go で Json 取扱</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Go/">Go</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/07/2020-05-20-go-json-time/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Go で時刻を json.Unmarshal する際の注意点">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-06T15:00:00.000Z">2020-05-07</time></div>
                    <a href="/2020/05/07/2020-05-20-go-json-time/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Go で時刻を json.Unmarshal する際の注意点</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/04/30/2020-04-30-typing-game-go/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://github.com/kenzo0107/typing-game-go/raw/master/logo.png" alt="Go でタイピングゲーム作った">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-29T15:00:00.000Z">2020-04-30</time></div>
                    <a href="/2020/04/30/2020-04-30-typing-game-go/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Go でタイピングゲーム作った</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Go/">Go</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/04/25/2020-04-25-terraform-bestpractice-2020/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.imgur.com/PRuN9u8.png" alt="Terraform ベストプラクティス 2020 春 ~moduleやめてみた~">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-24T15:00:00.000Z">2020-04-25</time></div>
                    <a href="/2020/04/25/2020-04-25-terraform-bestpractice-2020/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Terraform ベストプラクティス 2020 春 ~moduleやめてみた~</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/04/16/2020-04-16-cloudfront-csp/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/images/cloudfront-events-that-trigger-lambda-functions.png" alt="Lambda Edge で Basic 認証 や CSP 対応">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-15T15:00:00.000Z">2020-04-16</time></div>
                    <a href="/2020/04/16/2020-04-16-cloudfront-csp/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Lambda Edge で Basic 認証 や CSP 対応</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                タグ
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/htaccess/">
                        <span class="tag">.htaccess</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ALB/">
                        <span class="tag">ALB</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AWS/">
                        <span class="tag">AWS</span>
                        <span class="tag is-grey">24</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android/">
                        <span class="tag">Android</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ansible/">
                        <span class="tag">Ansible</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AntiVirus/">
                        <span class="tag">AntiVirus</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Apache/">
                        <span class="tag">Apache</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Chef/">
                        <span class="tag">Chef</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CodeBuild/">
                        <span class="tag">CodeBuild</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Cookie/">
                        <span class="tag">Cookie</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Corosync/">
                        <span class="tag">Corosync</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Datadog/">
                        <span class="tag">Datadog</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Docker/">
                        <span class="tag">Docker</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ECR/">
                        <span class="tag">ECR</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ECS/">
                        <span class="tag">ECS</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ElastiCache/">
                        <span class="tag">ElastiCache</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Elasticsearch/">
                        <span class="tag">Elasticsearch</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Email/">
                        <span class="tag">Email</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/FTPS/">
                        <span class="tag">FTPS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fluentd/">
                        <span class="tag">Fluentd</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GKE/">
                        <span class="tag">GKE</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GitHub-Actions/">
                        <span class="tag">GitHub Actions</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Go/">
                        <span class="tag">Go</span>
                        <span class="tag is-grey">22</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GooglePlay/">
                        <span class="tag">GooglePlay</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hubot/">
                        <span class="tag">Hubot</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JavaScript/">
                        <span class="tag">JavaScript</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Jenkins/">
                        <span class="tag">Jenkins</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kibana/">
                        <span class="tag">Kibana</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINE-Notify/">
                        <span class="tag">LINE Notify</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Lambda/">
                        <span class="tag">Lambda</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Let-s-encrypt/">
                        <span class="tag">Let&#39;s encrypt</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MachineLearning/">
                        <span class="tag">MachineLearning</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Monitoring/">
                        <span class="tag">Monitoring</span>
                        <span class="tag is-grey">12</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MySQL/">
                        <span class="tag">MySQL</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Nginx/">
                        <span class="tag">Nginx</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OpenSSL/">
                        <span class="tag">OpenSSL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Outlook/">
                        <span class="tag">Outlook</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PHP/">
                        <span class="tag">PHP</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Pacemaker/">
                        <span class="tag">Pacemaker</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Prometheus/">
                        <span class="tag">Prometheus</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ProxySQL/">
                        <span class="tag">ProxySQL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Puppeteer/">
                        <span class="tag">Puppeteer</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python/">
                        <span class="tag">Python</span>
                        <span class="tag is-grey">10</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Rails/">
                        <span class="tag">Rails</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RaspberryPI/">
                        <span class="tag">RaspberryPI</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Reactio/">
                        <span class="tag">Reactio</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Redis/">
                        <span class="tag">Redis</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ruby/">
                        <span class="tag">Ruby</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/S3/">
                        <span class="tag">S3</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSL/">
                        <span class="tag">SSL</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Security/">
                        <span class="tag">Security</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SendGrid/">
                        <span class="tag">SendGrid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Slack/">
                        <span class="tag">Slack</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SonarQube/">
                        <span class="tag">SonarQube</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StatsBot/">
                        <span class="tag">StatsBot</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Swift/">
                        <span class="tag">Swift</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Terraform/">
                        <span class="tag">Terraform</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Twilio/">
                        <span class="tag">Twilio</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Unity/">
                        <span class="tag">Unity</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Vagrant/">
                        <span class="tag">Vagrant</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Vault/">
                        <span class="tag">Vault</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WAF/">
                        <span class="tag">WAF</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Zabbix/">
                        <span class="tag">Zabbix</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/awk/">
                        <span class="tag">awk</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/casperjs/">
                        <span class="tag">casperjs</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cpu/">
                        <span class="tag">cpu</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/csv/">
                        <span class="tag">csv</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/flask/">
                        <span class="tag">flask</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/i-node/">
                        <span class="tag">i-node</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/iftop/">
                        <span class="tag">iftop</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ipinfo/">
                        <span class="tag">ipinfo</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/iptable/">
                        <span class="tag">iptable</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/kibana/">
                        <span class="tag">kibana</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/macos/">
                        <span class="tag">macos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/nginx/">
                        <span class="tag">nginx</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/no-ip/">
                        <span class="tag">no-ip</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ping/">
                        <span class="tag">ping</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pip/">
                        <span class="tag">pip</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reCAPTCHA/">
                        <span class="tag">reCAPTCHA</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/sftp/">
                        <span class="tag">sftp</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spam/">
                        <span class="tag">spam</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ssh/">
                        <span class="tag">ssh</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/vim/">
                        <span class="tag">vim</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/wget/">
                        <span class="tag">wget</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yum/">
                        <span class="tag">yum</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/zsh/">
                        <span class="tag">zsh</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="長生村本郷Engineers&#39;Blog" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Kenzo Tanaka&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("ja");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'https://kenzo0107.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: ''
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="Zurück nach oben" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '投稿',
                PAGES: 'Pages',
                CATEGORIES: 'カテゴリ',
                TAGS: 'タグ',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>

</html>
