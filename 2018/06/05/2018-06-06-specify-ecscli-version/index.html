<div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2018-06-05T15:00:00.000Z" title="2018-06-05T15:00:00.000Z">2018-06-06</time><span class="level-item">2分 read (About 332 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">ElastiCache メンテナンス対応 ~2018年梅雨~</h1><div class="content"><p>完全な備忘録です。</p>
<h2><span id="経緯">経緯</span></h2><p>6月に入って数日、<br>ecs-cli の latest をインストールすると latest が 1.6.0 となり<br><code>ecs-cli compose ...</code> を実行すると以下のようなエラーが出るようになりました。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">level=error msg=<span class="string">"Unable to open ECS Compose Project"</span> error=<span class="string">"Volume driver is not supported"</span></span><br></pre></td></tr></table></figure>

<p>1.4.0 では問題なかったタスク定義でしたが<br>1.6.0 では <code>Volume driver is not supported</code> となったそうで処理がこけるようになりました。</p>
<p>その対応として 1.4.0 にバージョン固定した設定です。</p>
<a id="more"></a>

<h2><span id="結論">結論</span></h2><p>latest の部分を <code>&lt;version&gt;</code> に変更することで指定のバージョンでインストールが可能です。</p>
<ul>
<li>for Linux OS</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://amazon-ecs-cli.s3.amazonaws.com/ecs-cli-linux-amd64-v1.6.0 -o /usr/bin/ecs-cli &amp;&amp; chmod +x /usr/bin/ecs-cli</span><br></pre></td></tr></table></figure>

<ul>
<li>for MacOS</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://amazon-ecs-cli.s3.amazonaws.com/ecs-cli-darwin-amd64-v1.6.0 -o /usr/bin/ecs-cli &amp;&amp; chmod +x /usr/bin/ecs-cli</span><br></pre></td></tr></table></figure>

<h2><span id="aws-documentation-では">AWS Documentation では</span></h2><p>最新の ecs-cli のみの説明の為、若干ハマりました。</p>
<p>GitHub には <code>Download specific version</code> とあるのでこちらの情報を追っておくと良かったです。</p>
<p><a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_CLI_installation.html">ecs-cli - Download specific version</a></p>
<p>以上<br>本当に備忘録でした。</p>
</div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/AWS/">AWS</a><a class="link-muted mr-2" rel="tag" href="/tags/ElastiCache/">ElastiCache</a></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_dd" href="https://www.addtoany.com/share"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_telegram"></a><a class="a2a_button_whatsapp"></a><a class="a2a_button_reddit"></a></div><script src="https://static.addtoany.com/menu/page.js" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Gefällt Ihnen der Artikel? Unterstützen Sie den Autor mit</h3><div class="buttons is-centered"><a class="button is-danger donate" href="https://www.patreon.com/kenzo0107" target="_blank" rel="noopener"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2018/06/05/2018-06-06-rails-redis-threadsafe/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Rails × Redis でスレッドセーフなアクセス数ランキング実装</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/05/17/2018-05-18-ecs_prefix/"><span class="level-item">AWS ECS prefix 指定してまとめてタスク登録解除</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!-->